#!/usr/bin/env bash

set -e

BASE_PATH="$(dirname $0)/.."

. "$BASE_PATH/libexec/style"
. "$BASE_PATH/libexec/defaults"
. "$BASE_PATH/libexec/args"
. "$BASE_PATH/libexec/common"

interpret_args

complain_if_interrupted

load_app_config
default_app_config
apply_super_configs
load_strategy_or_list_available_strategies

# Run the loaded strategy
begin
run
finish
